#include <stdio.h>

#define TRUE 1
enum Month {Jan=1, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec};
//enum활용하여 '월' 확인 
char* character_month(int mm) {
	switch(mm) {
	    case Jan :
	        return "Jan";
	        break;
        case Feb :
	        return "Feb";
	        break;
	    case Mar :
	        return "Mar";
	        break;
        case Apr :
	        return "Apr";
	        break;
	    case May :
	        return "May";
	        break;
        case Jun :
	        return "Jun";
	        break;
	    case Jul :
	        return "Jul";
	        break;
        case Aug :
	        return "Aug";
	        break;
        case Sep :
	        return "Sep";
	        break;
	    case Oct :
	        return "Oct";
	        break;
        case Nov :
	        return "Nov";
	        break;
	    case Dec :
	        return "Dec";
	        break;
	}
}
//윤년 확인 
int leap_year(int yyyy) {
	if (yyyy % 400 == 0) {
		return 1;
	} else if ((yyyy % 100 != 0) && (yyyy % 4 == 0)) {
		return 1;
	}
	return 0;
}
//월별 마지막 일자 
int get_day_month(int yyyy, int mm) {
	int day_month[13] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
	day_month[Feb] += leap_year(yyyy);
	return day_month[mm];
}
//시작요일 확인 
int get_day(int yyyy, int mm) {
	int year;
	int month;
	int past = 0;
	for(year = 1; year < yyyy; year++) {
		past = past + 365 + leap_year(year);
	}
	for(month = 1; month < mm; month++) {
		past = past + get_day_month(yyyy, month);
	}
	return (1 + past) % 7;
}
//달력 출력 
void print_calendar(int start_day, int last_day, int yyyy, int mm) {
	int i;
	int day;
	int start_up;
	printf("%8d년 %s Calendar\n", yyyy, character_month(mm));
	printf("============================\n");
	printf(" Sun Mon Tue Wed Thu Fri Sat\n");
	for (i = 0; i < start_day; i++) {
		printf("    ");
	}
	int calendar_day = start_day;
	for (day = 1; day <= last_day; day++) {
		printf("%4d", day);
		if(calendar_day % 7 == 6) {
			printf("\n");
		}
		calendar_day += 1;
	}
}
//월 입력받기 
int year_input() {
	int y;
	while (TRUE) {
		printf("연도를 입력해 주세요 >> ");
		if (scanf("%d", &y) == 1) {
			if (y > 0) {
				break;
			} else {
				printf("다시입력해주세요\n");
				while(getchar() !='\n');
				continue;
			}
		} else {
			printf("다시입력해주세요\n");
			while(getchar() !='\n');
			continue;
		}
	}
	return y;
}
//달 입력받기 
int month_input() {
	int m;
	while (TRUE) {
		printf("월을 입력해 주세요 >> ");
		if (scanf("%d", &m) == 1) {
			if (m > 0 && m < 13) {
				break;
			} else {
				printf("다시입력해주세요\n");
				while(getchar() !='\n');
				continue;
			}
		} else {
			printf("다시입력해주세요\n");
			while(getchar() !='\n');
			continue;
		}
	}
	return m;
}

void main () {
	int yyyy, mm;
	yyyy = year_input();
	mm = month_input();
	int start_day = get_day(yyyy, mm);
	int last_day = get_day_month(yyyy, mm);
	print_calendar(start_day, last_day, yyyy, mm);
}
